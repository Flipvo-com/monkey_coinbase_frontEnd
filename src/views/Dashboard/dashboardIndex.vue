<template>
  <div class="_flex _flex-wrap _gap-2">
    <v-card class="_flex-1">
      <v-card-text class=" ">
        <v-list lines="one">
          <v-list-item>
            <v-list-item-title class="mb-3">
              <img src="/public/bitcoin-btc-logo.svg"
                   class="bitcoin-logo mr-1"
                   alt="Bitcoin"/>
              Bitcoin
              <div class="float-right">
                Price: {{ toCurrency(90000) }}
              </div>
            </v-list-item-title>
            <v-list-item-title class="mb-3">
              <div>
                <div class="float-right">
                  Total Value: {{ toCurrency(3000) }}
                </div>
                â‚¿ {{ 0.12345678 }}
              </div>
            </v-list-item-title>
            <v-list-item-subtitle class="_text-green-500 _text-3xl">
              ğŸŸ¢ Available: {{ toCurrency(3000) }}
              <div class="float-right">
                ğŸ›‘ Hold: {{ toCurrency(3000) }}
              </div>
            </v-list-item-subtitle>
          </v-list-item>
        </v-list>
      </v-card-text>
    </v-card>
    <v-card class="_flex-1">
      <v-card-text class=" ">
        <v-list lines="one">
          <v-list-item>
            <v-list-item-title class="mb-3">
              ğŸ’µ Cash
              <div class="float-right">
                Total: {{ toCurrency(90000) }}
              </div>
            </v-list-item-title>
            <v-list-item-subtitle
                class="_text-green-500 _text-3xl">
              ğŸŸ¢ Available: {{ toCurrency(3000) }}
              <div class="float-right">
                ğŸ›‘ Hold: {{ toCurrency(3000) }}
              </div>
            </v-list-item-subtitle>
          </v-list-item>
        </v-list>
      </v-card-text>
    </v-card>

    <v-card class="_w-full" density="compact">
      <h1>Coming Soon!</h1>

      ğŸ“œ:ğŸ’²89210.55 ğŸ“‰ +798.38 (+0.903%) ğŸ›¡ï¸ 0.00010156 ğŸ’°$9.06 ğŸ•’ 4 hours ago 5 ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ ğŸ’±1086.07 - 1.23%ğŸ’± ğŸ’²88124.48 ğŸ›¡ï¸0.00010 ğŸ’°$9.09 ğŸŒ $-0.0606 ğŸ’µ ğŸ’°$0.1454 ğŸ’²$0.0653
      <br />
      ğŸ“œ:ğŸ’²89210.55 ğŸ“‰ +798.38 (+0.903%) ğŸ›¡ï¸ 0.00010156 ğŸ’°$9.06 ğŸ•’ 4 hours ago 5 ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ ğŸ’±1086.07 - 1.23%ğŸ’± ğŸ’²88124.48 ğŸ›¡ï¸0.00010 ğŸ’°$9.09 ğŸŒ $-0.0606 ğŸ’µ ğŸ’°$0.1454 ğŸ’²$0.0653
      <br />
      ğŸ“œ:ğŸ’²89149.64 ğŸ“‰ +737.47 (+0.834%) ğŸ›¡ï¸ 0.00011347 ğŸ’°$10.12 ğŸ•’ 36 minutes ago 1 ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ ğŸ’±689.56 - 0.78%ğŸ’± ğŸ’²88460.08 ğŸ›¡ï¸0.00011 ğŸ’°$9.52 ğŸŒ $0.5645 ğŸ’µ ğŸ’°$0.5197 ğŸ’²$0.0264
      <br />
      --- ğŸ¦ Ask/Bid: ğŸ“œ $88412.17 - ğŸ’¸ $88412.16 --
      <br />
      ğŸ’¸:ğŸ’²88012.88 ğŸ“ˆ -399.28 (-0.452%) ğŸ›¡ï¸ 0.00004876 ğŸ’°$4.29 ğŸ•’ 2 hours ago 8 ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ ğŸ¥‡
      <br />
      ğŸ’¸:ğŸ’²87942.54 ğŸ“ˆ -469.62 (-0.531%) ğŸ›¡ï¸ 0.00007812 ğŸ’°$6.87 ğŸ•’ 2 hours ago 6 ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ ğŸ¥‡
      <br />
      ğŸ’¸:ğŸ’²87872.92 ğŸ“ˆ -539.24 (-0.609%) ğŸ›¡ï¸ 0.00007812 ğŸ’°$6.87 ğŸ•’ 2 hours ago 6 ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ğŸ”‹ ğŸ¥‡

    </v-card>

    <v-card class="_w-full" density="compact">
      <div>
        <div class="mb-2">
          ğŸ›¡ï¸ Available: $13.04  â™»ï¸ %4.95   ğŸš§   ğŸ›¡ï¸ Crypto Value: $132.40          â™»ï¸  %50.29
        </div>
        <div>
          ğŸ’² Available: $8.59  â™»ï¸ %3.26   ğŸš§   ğŸ’² Cash Value: $130.87    â™»ï¸  %49.71
        </div>
      </div>
    </v-card>

    <v-card class="_w-full" density="compact">
      <div>
        <div>
          ğŸ¦ Accounts: 1 ğŸ“ Total Orders: 101 | ğŸš€ ğŸŸ¢ Running - Auto Buy: ğŸŸ¢ On --- ğŸ“œ Show All Orders: ğŸ”´ Off | ğŸ“µ DELETE_BUYS: ğŸŸ¢ On
        </div>
        <div>
          ğŸ“Š Total Orders Value: $253.37 | Avg Order Value: $2.51 | ğŸ•’ Last Trade: 30 minutes ago
        </div>
        <div>
          âš™ï¸ Settings: ğŸ“ˆ Buy Gain: %1.0777 | ğŸ“‰ Sell Gain: %1.0533 --- ğŸ›‘ Stop Gain: 3.3% --- ğŸ§© Main Spread (Buys): %0.6900 Â± 9.3300% | ğŸ“Š Main Sell Spread: %0.6900 Â± 0.6900%
        </div>
        <div>
          ğŸŒ Bananas: ğŸ² Random %1.6 | ğŸ’¸ Buy: $5.27 | ğŸŸï¸ Sell: $5.27
        </div>
        <div>
          ğŸ“œ Sell: ğŸ’²110922.64 ğŸ›¡ï¸0.00000947 ğŸ’°$1.05  +$22510.39 (+25.46%) ğŸ•’ 12 hours ago ğŸ”‹
        </div>
        <div>
          ğŸ’¸ Buy:  ğŸ’²75464.10 ğŸ›¡ï¸0.00001325 ğŸ’°$1.00  -$12945.39 (-14.64%) ğŸ•’ 4 days ago
        </div>
      </div>
    </v-card>


    <v-card class="_w-full" density="compact">
      <div>
        <div>
          ğŸ¦ Ask/Bid: ğŸ“œ $88,412.25 - ğŸ’¸ $88,409.49
          <br>
          ğŸ“‰ Ask: ğŸ“œ $88,412.25 - ğŸ›¡ï¸ 0.0000 ğŸ’° $0.68
          <br>
          ğŸ“ˆ Bid: ğŸ’¸ $88,409.49 - ğŸ›¡ï¸ 0.0000 ğŸ’° $3.39
          <br>
          ğŸ§® Spread: ğŸ’² $2.76 - %0.0031
        </div>
      </div>
    </v-card>




    <v-card class="_w-full" density="compact">
      <div>
        ğŸ“ˆ Profit/Loss --- ğŸª™ Crypto Summary ---
        <br/>
        Gross: $429.43 | Net: $348.44 | %Gross: 2.76% | %Net: 2.23%    ---     Bought: 0.224326 | Sold: 0.230504 | Position: -0.006178 | Avg Buy: $69,394.61 | Avg Sell: $69,397.64
        <br/>
        ğŸ“Š Profit/Loss Summary: todo - double check!!
        <br/>
        ğŸ’¸ Total Buy Value:  $15,567.02 | Total Buy Fees: $40.10  | Total Buy Cost: $15,607.12
        <br/>
        ğŸ“œ Total Sell Value: $15,996.44 | Total Sell Fees: $40.89 | Total Sell Proceeds: $15,955.56
        <br/>
        ğŸ“ˆ Profit/Loss:
        <br/>
        ğŸ“‰ Gross Profit/Loss: $429.43 | Net Profit/Loss: $348.44
        <br/>
        ğŸ“‰ Gross Profit/Loss %: 2.76% | Net Profit/Loss %: 2.23%
        <br/>
        ğŸª™ Crypto Summary:
        <br/>
        ğŸ“¥ Total Crypto Bought: 0.224326 | ğŸ“¤ Total Crypto Sold: 0.230504 | ğŸ“Š Net Crypto Position (traded): -0.006178 | ğŸ“ˆ Status: DOWN
        <br/>
        ğŸ”„ Average Buy Price: $69,394.61 | Average Sell Price: $69,397.64 | Avg Fee per Trade: $0.02
        <br/>
        ğŸ”„ Average Sell Price: $69,397.64
        <br/>
        --- Diff:                $3.03 (0.00%)
        ğŸ”„ Average Buy Price:  $69,394.61
        <br/>

        ğŸ“‰ Holdings Summary:
        <br/>
        ğŸ’° Current Holdings Value (Trade-Based): -$546.21
        <br/>
        ğŸ“ˆ Unrealized P/L: -$117.48
        <br/>
        ğŸ’¸ Realized P/L: $465.93 | Holdings/Buy Ratio: -2.75%
        <br/>

        ğŸŒ• BTC Wallet ğŸ›¡ï¸0.00149848 ğŸ’° $132.48 ğŸª™  ğŸ”’ ğŸ›¡ï¸0.00014762 ğŸ’° $13.05
        <br/>
        âš–ï¸ Balance: Buys(72) - %71.29 / %28.71 - (29)Sells - Total: 101
        <br/>
        ğŸ’² $130.87 â™»ï¸ %49.69 ğŸš§ %50.31 â™»ï¸ $132.48 ğŸ›¡ï¸
        <br/>
        ğŸ’° Total: $263.35

      </div>
    </v-card>


    <v-card class="_w-full" density="compact">
      <v-card-text class="">
        <div>
          â±ï¸ (Minutes): 1min: ğŸ“ˆ +0.01% ($263.24) | 30min: ğŸ“‰ -0.06% ($263.42)
          <br />
          â³ (Hours):   1h:   ğŸ“‰ -0.00% ($263.27) | 5h:   ğŸ“ˆ +0.23% ($262.66) | 15h:   ğŸ“ˆ +0.32% ($262.41) | 24h:   ğŸ“ˆ +1.22% ($260.08)
          <br />
          ğŸ“… (Days):    1day: ğŸ“ˆ +1.22% ($260.08) | 5day: ğŸ“ˆ +2.97% ($255.68) | 10day: ğŸ“ˆ +2.97% ($255.68) | 30day: ğŸ“‰ -83.28% ($1,574.56)
        </div>
      </v-card-text>
    </v-card>

  </div>
</template>
<script setup lang="ts">
import {toCurrency} from "@/stats/Utils";
import {AccountState} from "@/stats/AccountState";
import "@/assets/styles.css";

const {accountOrderList, accountInfo, allJsonData} = AccountState();

console.log(accountOrderList.value);
console.log(accountInfo.value);
console.log(allJsonData.value);

//
// const btcPrice = computed(() => {
//   let BTCBook = allJsonData.value.pricebooks.find(
//     (item) => item.product_id === "BTC-USD",
//   );
//   let asks = parseFloat(BTCBook?.asks[0].price);
//   let bids = parseFloat(BTCBook?.bids[0].price);
//
//   return (asks + bids) / 2;
// });
//
//
// // const btcAvailable = computed(()=>{
// //     parseFloat(accountInfo.value.hold.value);
// // })
//
// // const btcHold = parseFloat(accountInfo.value.hold.value);
// // const btcTotal = btcAvailable + btcHold;
// // const btcAvailableUsdValue = parseFloat((btcAvailable * btcPrice.value).toFixed(2));
// // const btcHoldUsdValue = parseFloat((btcHold*btcPrice.value).toFixed(2));
//
// const sellOrder = computed(() => {
//   return accountOrderList.value.filter((item) => item.side === "SELL");
// });
//
// const TotalBitcoin = computed(() => {
//   let a = accountInfo.value.available_balance.value;
//   let b = accountInfo.value.hold.value;
//   return (parseFloat(a) + parseFloat(b)).toFixed(8);
// });
//
// const getBTCTotalToUSD = computed(() => {
//   console.log(accountInfo.value);
//   let av = parseFloat(accountInfo.value.available_balance.value);
//   let hold = parseFloat(accountInfo.value.hold.value);
//   return ((av + hold) * btcPrice.value).toFixed(2);
// });
//
//
// const getBTCAvailableToUSD = computed(() => {
//   let av = parseFloat(accountInfo.value.available_balance.value);
//   return ( av * btcPrice.value).toFixed(2);
// });
//
// const getBTCHoldToUSD = computed(() => {
//     let hold = parseFloat(accountInfo.value.hold.value);
//   return ( hold * btcPrice.value).toFixed(2);
// });
//
// const buyOrder = computed(() => {
//   return accountOrderList.value.filter((item) => item.side === "BUY");
// });

// const valueBuyOrder = computed(() => {
//   return buyOrder.value.reduce((acc, item) => {
//     return (
//       acc +
//       item.order_configuration.limit_limit_gtc.limit_price *
//         item.order_configuration.limit_limit_gtc.base_size
//     );
//   }, 0);
// });

// const valueSellOrder = computed(() => {
//   return sellOrder.value.reduce((acc, item) => {
//     return (
//       acc +
//       item.order_configuration.limit_limit_gtc.limit_price *
//         item.order_configuration.limit_limit_gtc.base_size
//     );
//   }, 0);
// });

</script>
